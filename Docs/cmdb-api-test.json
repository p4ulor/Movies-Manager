{
	"info": {
		"_postman_id": "3af36da6-a43b-4d36-8fe5-9aabd74da445",
		"name": "IPW",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "24004812"
	},
	"item": [
		{
			"name": "Users",
			"item": [
				{
					"name": "Error Tests",
					"item": [
						{
							"name": "Create user w/ empty name",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"\",\r\n    \"password\": \"ay\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}{{api}}/signup",
									"host": [
										"{{host}}{{api}}"
									],
									"path": [
										"signup"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create user w/ missing field",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"password\": \"ay\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}{{api}}/signup",
									"host": [
										"{{host}}{{api}}"
									],
									"path": [
										"signup"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Elastic",
					"item": [
						{
							"name": "Create Index User Elastic",
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"paulo23\",\r\n    \"password\": \"ay\",\r\n    \"api_key\": \"k_000000\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:9200/users/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Index User Elastic",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": ""
								}
							},
							"response": []
						},
						{
							"name": "Create User in Index",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"id\": \"1\",\r\n  \"name\": \"bbb\",\r\n  \"groups\": [],\r\n  \"token\": \"dd0e98a8-e611-4d6f-a952-aa45534ea27e\",\r\n  \"hash\": \"4c93b0b217134dd5df577ea0d1b74a9375e5c7bc390b9b1811ead8a2b7ecd9c9\",\r\n  \"salt\": \"b20e249f4c570a46d213abb30120937c\",\r\n  \"api_key\": \"aaa\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:9200/users/_doc",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_doc"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create User with Index With ID",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"NodeApplication\",\r\n    \"groups\": [],\r\n    \"token\": \"b9e1c3ce-7b90-4bec-a48d-8a2b12756932\",\r\n    \"hash\": \"c90793e7cb66c9001c2554ace3bcd31ff9f28e5e4cdde0ab4f25be51a5dafc10\",\r\n    \"salt\": \"123403a5b2d49f7b7c975f35bb4914f3\",\r\n    \"api_key\": \"k_25f649os\" \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:9200/users/_doc/XQLDrIUBlCiQ4o3uDp9C",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_doc",
										"XQLDrIUBlCiQ4o3uDp9C"
									]
								}
							},
							"response": []
						},
						{
							"name": "List Indexs",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:9200/_all",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"_all"
									]
								}
							},
							"response": []
						},
						{
							"name": "Lista users",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:9200/users/_search",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_search"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete user with Index",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:9200/users/_doc/fHsmqIUBlXEbTxQeKvbj",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_doc",
										"fHsmqIUBlXEbTxQeKvbj"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get MAX User.id",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"sort\": [\r\n        {\r\n        \"id\": {\r\n            \"order\": \"desc\"\r\n        }\r\n        }\r\n    ],\r\n    \"size\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:9200/users/_search?size=0",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_search"
									],
									"query": [
										{
											"key": "size",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get MAX Group.id",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "    {\r\n        \"sort\": [\r\n          {\r\n            \"id\": {\r\n              \"order\": \"desc\"\r\n            }\r\n          }\r\n        ],\r\n        \"size\": 1\r\n      }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:9200/groups/_search?size=0",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"groups",
										"_search"
									],
									"query": [
										{
											"key": "size",
											"value": "0"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update User with GroupID in group[]",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"doc\": {\r\n        \"id\":0,\r\n        \"name\":\"carlos\",\r\n        \"groups\":[\"EZV0eYUBn-XL_4_Fp1Ax\"],\r\n        \"token\":\"de955d81-cd1c-4a93-86af-76424ade4101\",\r\n        \"hash\":\"9f445ba651ae501cf4c81b0b71ba064429c186aee095c21683f6fbd421234a8a\",\r\n        \"salt\":\"9403646fcd9e295768b21afb94ed72a9\",\r\n        \"api_key\":\"k_8puzazju\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:9200/users/_update/BpUFeYUBn-XL_4_Fp1Bp",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_update",
										"BpUFeYUBn-XL_4_Fp1Bp"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User by _id",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:9200/users/_doc/BpUFeYUBn-XL_4_Fp1Bp",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_doc",
										"BpUFeYUBn-XL_4_Fp1Bp"
									]
								}
							},
							"response": []
						},
						{
							"name": "Search User by token",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:9200/users/_search?q=token:de955d81-cd1c-4a93-86af-76424ade4101",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_search"
									],
									"query": [
										{
											"key": "q",
											"value": "token:de955d81-cd1c-4a93-86af-76424ade4101"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update user",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"doc\": {\r\n        \"name\": \"NodeApplication\",\r\n        \"groups\": [],\r\n        \"token\": \"b9e1c3ce-7b90-4bec-a48d-8a2b12756932\",\r\n        \"hash\": \"c90793e7cb66c9001c2554ace3bcd31ff9f28e5e4cdde0ab4f25be51a5dafc10\",\r\n        \"salt\": \"123403a5b2d49f7b7c975f35bb4914f3\",\r\n        \"api_key\": \"k_25f649os\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:9200/users/_update/XQLDrIUBlCiQ4o3uDp9C",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_update",
										"XQLDrIUBlCiQ4o3uDp9C"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Create user",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"paulo23aaabaaaaa\",\r\n    \"password\": \"ay\",\r\n    \"api_key\": \"k_25f649os\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}{{api}}/users",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login user",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"paulo23aaabaaaaa\",\r\n    \"password\": \"ay\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}{{api}}/login",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Groups",
			"item": [
				{
					"name": "Error Tests",
					"item": [
						{
							"name": "Create group w/ out bearer token",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{host}}{{api}}/creategroup",
									"host": [
										"{{host}}{{api}}"
									],
									"path": [
										"creategroup"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create group w/ out bearer token where name is empty",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{pauloToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"\",\r\n    \"description\": \"of all time\",\r\n    \"isPrivate\": true\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}{{api}}/creategroup",
									"host": [
										"{{host}}{{api}}"
									],
									"path": [
										"creategroup"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Elastic",
					"item": [
						{
							"name": "List of Groups",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:9200/groups/_search",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"groups",
										"_search"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Group with _id",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:9200/groups/_doc/B5U7eYUBn-XL_4_Fo1Cl",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"groups",
										"_doc",
										"B5U7eYUBn-XL_4_Fo1Cl"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete the INDEX groups",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "localhost:9200/groups",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check if index groups exists",
							"request": {
								"method": "HEAD",
								"header": [],
								"url": {
									"raw": "http://localhost:9200/groups",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"groups"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Create group",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"myfavmovies\",\r\n    \"description\": \"of all time\",\r\n    \"isPrivate\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}{{api}}/groups",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add movie to a group",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}{{api}}/groups/:groupID/:movieID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups",
								":groupID",
								":movieID"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"description": "Group Id to be inserted ",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "groupID",
									"value": "kXuCqIUBlXEbTxQe_vZT"
								},
								{
									"key": "movieID",
									"value": "tt0443453"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List All Groups of a User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/groups?limit=3",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups"
							],
							"query": [
								{
									"key": "limit",
									"value": "3"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Group of a User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/groups/:groupID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups",
								":groupID"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "groupID",
									"value": "0"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update group",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"groupName\": \"watch in 1 year\",\r\n    \"groupDescription\": \"zzzzzzzzzzz\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}{{api}}/groups/:groupID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups",
								":groupID"
							],
							"variable": [
								{
									"key": "groupID",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get group by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/groups/:groupID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups",
								":groupID"
							],
							"variable": [
								{
									"key": "groupID",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove movie from group",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/groups/:groupID/:movieID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"groups",
								":groupID",
								":movieID"
							],
							"variable": [
								{
									"key": "groupID",
									"value": "1"
								},
								{
									"key": "movieID",
									"value": "tt0110912"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "IMDB-API",
			"item": [
				{
					"name": "Elastic",
					"item": [
						{
							"name": "Delete all actors",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"query\": {\r\n \"match_all\": {}\r\n }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:9200/users/_delete_by_query",
									"host": [
										"localhost"
									],
									"port": "9200",
									"path": [
										"users",
										"_delete_by_query"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Search movies by name",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/movies/search?searchTerms=the&limit=10",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"movies",
								"search"
							],
							"query": [
								{
									"key": "searchTerms",
									"value": "the"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get top movies",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/movies/top?top=5",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"movies",
								"top"
							],
							"query": [
								{
									"key": "top",
									"value": "5"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get movie by ID from IMDB (or maybe cache)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{pauloToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/movies/:movieID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"movies",
								":movieID"
							],
							"variable": [
								{
									"key": "movieID",
									"value": "tt0118715"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get actor from IMDB (or maybe cache)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}{{api}}/actor/:actorID",
							"host": [
								"{{host}}{{api}}"
							],
							"path": [
								"actor",
								":actorID"
							],
							"variable": [
								{
									"key": "actorID",
									"value": "nm0000235"
								}
							]
						}
					},
					"response": [
						{
							"name": "Get actor from IMDB (or maybe cache)",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}{{api}}/actor/:actorID",
									"host": [
										"{{host}}{{api}}"
									],
									"path": [
										"actor",
										":actorID"
									],
									"variable": [
										{
											"key": "actorID",
											"value": "nm0000235"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "182"
								},
								{
									"key": "ETag",
									"value": "W/\"b6-k/5gLuXwI5K74MjlT+BuZevqOaM\""
								},
								{
									"key": "Date",
									"value": "Fri, 30 Dec 2022 20:39:51 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"nm0000235\",\n    \"image\": \"https://m.media-amazon.com/images/M/MV5BMjMxNzk1MTQyMl5BMl5BanBnXkFtZTgwMDIzMDEyMTE@._V1_Ratio1.0000_AL_.jpg\",\n    \"name\": \"Uma Thurman\",\n    \"birthDate\": \"1970-5-29\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Main page",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{host}}/",
					"host": [
						"{{host}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "pauloToken",
			"value": "f7c59d82-8a6a-436d-96e0-dd2758a37ab1",
			"type": "string"
		},
		{
			"key": "host",
			"value": "http://localhost:1904",
			"type": "string"
		},
		{
			"key": "api",
			"value": "/api",
			"type": "string"
		}
	]
}